{"ast":null,"code":"var _jsxFileName = \"C:\\\\EMSI\\\\node__react\\\\project nodeJS-reactJs-mySql\\\\Client\\\\my-react\\\\src\\\\pages\\\\createpost.js\",\n    _s = $RefreshSig$();\n\nimport react from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport './css/App.css';\nimport './css/comment.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [dataa, setdata] = useState({});\n  const [Comments, setComments] = useState([]);\n  const [newComment, setnewComment] = useState('');\n  useEffect(() => {\n    axios.get(`http://localhost:3001/posts/${id}`).then(result => {\n      setdata(result.data);\n    });\n    axios.get(`http://localhost:3001/Comments/${id}`).then(result => {\n      setComments(result.data);\n    });\n  }, []);\n\n  const addComment = () => {\n    axios.post(`http://localhost:3001/Comments`, {\n      comment: newComment,\n      TableId: id\n    }, {\n      headers: {\n        accessToken: sessionStorage.getItem('accessTToken')\n      }\n    }).then(result => {\n      if (!result.data.error) {\n        const newcomment = {\n          comment: result.data.comment,\n          userName: result.data.Comment.userName\n        };\n        setComments([...Comments, newcomment]);\n        setnewComment(\"\");\n      } else {\n        alert('user not logged in....');\n      }\n    });\n  };\n\n  const supp = (userName, id) => {\n    axios.post('http://localhost:3001/Comments/delete', {\n      userName: userName,\n      id: id\n    }, {\n      headers: {\n        accessToken: sessionStorage.getItem('accessTToken')\n      }\n    }).then(result => {\n      if (result.data.error) {\n        alert(result.data.error);\n      } else {\n        alert(result.data);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: dataa.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"body\",\n        children: dataa.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"username\",\n        children: dataa.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addComment\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inpout\",\n          onChange: event => {\n            setnewComment(event.target.value);\n          },\n          autoComplete: \"off\",\n          type: \"text\",\n          placeholder: 'Your comment'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttoun\",\n          onClick: addComment,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Comments\",\n        children: Comments.map((event, key) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Comments\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"username\",\n                children: event.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 40\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"Comment\",\n                children: [\" \", event.comment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"buttoun\",\n              onClick: () => supp(event.userName, event.id),\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 42\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"QdXbAJChUuohcIYx77vBL9iWbpE=\", false, function () {\n  return [useParams];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["react","useParams","useEffect","useState","axios","Post","id","dataa","setdata","Comments","setComments","newComment","setnewComment","get","then","result","data","addComment","post","comment","TableId","headers","accessToken","sessionStorage","getItem","error","newcomment","userName","Comment","alert","supp","title","description","username","event","target","value","map","key"],"sources":["C:/EMSI/node__react/project nodeJS-reactJs-mySql/Client/my-react/src/pages/createpost.js"],"sourcesContent":["import react from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport {useEffect} from 'react'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport './css/App.css'\r\nimport './css/comment.css'\r\n\r\n\r\n\r\n\r\nfunction Post(){\r\n  const {id}=useParams();\r\n  const [dataa,setdata]=useState({});\r\n  const [Comments,setComments]=useState([])\r\n  const [newComment,setnewComment]=useState('');\r\n\r\n\r\n\r\nuseEffect(()=>{\r\n  axios.get(`http://localhost:3001/posts/${id}`).then((result)=>{\r\n\r\n    setdata(result.data)\r\n  })\r\n\r\n  axios.get(`http://localhost:3001/Comments/${id}`).then((result)=>{\r\n\r\n    setComments(result.data)\r\n\r\n  })\r\n\r\n\r\n},[])  \r\n\r\nconst addComment=()=>{\r\n    axios.post(`http://localhost:3001/Comments`,{comment:newComment,TableId:id},{headers:{accessToken:sessionStorage.getItem('accessTToken')}}).then((result)=>{\r\n      if(!result.data.error){\r\n        const newcomment={comment:result.data.comment,userName:result.data.Comment.userName}\r\n            setComments([...Comments,newcomment])\r\n            setnewComment(\"\");\r\n           \r\n      }\r\n      else{\r\n             alert('user not logged in....')\r\n      }\r\n  })\r\n\r\n  }\r\n  const supp=(userName,id)=>{\r\n    axios.post('http://localhost:3001/Comments/delete',{userName:userName,id:id},{headers:{accessToken:sessionStorage.getItem('accessTToken')}}).then((result)=>{\r\n      if(result.data.error){\r\n        alert(result.data.error)\r\n      }else{\r\n        alert(result.data)\r\n      }\r\n    })\r\n  }\r\n\r\n    return(\r\n    <div className='App'>\r\n      <div className='post'>\r\n          <div className='title'>{dataa.title}</div>\r\n          <div className='body'>{dataa.description}</div>\r\n          <div className='username'>{dataa.username}</div>\r\n      </div>\r\n      <div className='container'>\r\n          <div className='addComment'><input className='inpout' onChange={(event)=>{setnewComment(event.target.value)}} autoComplete='off' type='text' placeholder={'Your comment'}/>\r\n                                      <button className='buttoun'onClick={addComment}>Add</button>\r\n          </div>  \r\n\r\n          \r\n          <div className='Comments'>\r\n                    {Comments.map((event,key)=>{\r\n                            return  <div  key={key} className='Comments'>\r\n                                        <div className='comment'>  \r\n                                       <div className='username'>{event.userName}</div>\r\n                                        \r\n                                         <div className='Comment' > {event.comment}</div>\r\n                                         </div>\r\n                                         <button className='buttoun' onClick={()=>supp(event.userName,event.id)}>delete</button>\r\n                                    </div>\r\n                        \r\n                        })\r\n                    }   \r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n)\r\n\r\n}\r\n\r\n\r\nexport default Post;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,SAAR,QAAwB,OAAxB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AACA,OAAO,mBAAP;;;AAKA,SAASC,IAAT,GAAe;EAAA;;EACb,MAAM;IAACC;EAAD,IAAKL,SAAS,EAApB;EACA,MAAM,CAACM,KAAD,EAAOC,OAAP,IAAgBL,QAAQ,CAAC,EAAD,CAA9B;EACA,MAAM,CAACM,QAAD,EAAUC,WAAV,IAAuBP,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM,CAACQ,UAAD,EAAYC,aAAZ,IAA2BT,QAAQ,CAAC,EAAD,CAAzC;EAIFD,SAAS,CAAC,MAAI;IACZE,KAAK,CAACS,GAAN,CAAW,+BAA8BP,EAAG,EAA5C,EAA+CQ,IAA/C,CAAqDC,MAAD,IAAU;MAE5DP,OAAO,CAACO,MAAM,CAACC,IAAR,CAAP;IACD,CAHD;IAKAZ,KAAK,CAACS,GAAN,CAAW,kCAAiCP,EAAG,EAA/C,EAAkDQ,IAAlD,CAAwDC,MAAD,IAAU;MAE/DL,WAAW,CAACK,MAAM,CAACC,IAAR,CAAX;IAED,CAJD;EAOD,CAbQ,EAaP,EAbO,CAAT;;EAeA,MAAMC,UAAU,GAAC,MAAI;IACjBb,KAAK,CAACc,IAAN,CAAY,gCAAZ,EAA4C;MAACC,OAAO,EAACR,UAAT;MAAoBS,OAAO,EAACd;IAA5B,CAA5C,EAA4E;MAACe,OAAO,EAAC;QAACC,WAAW,EAACC,cAAc,CAACC,OAAf,CAAuB,cAAvB;MAAb;IAAT,CAA5E,EAA4IV,IAA5I,CAAkJC,MAAD,IAAU;MACzJ,IAAG,CAACA,MAAM,CAACC,IAAP,CAAYS,KAAhB,EAAsB;QACpB,MAAMC,UAAU,GAAC;UAACP,OAAO,EAACJ,MAAM,CAACC,IAAP,CAAYG,OAArB;UAA6BQ,QAAQ,EAACZ,MAAM,CAACC,IAAP,CAAYY,OAAZ,CAAoBD;QAA1D,CAAjB;QACIjB,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAaiB,UAAb,CAAD,CAAX;QACAd,aAAa,CAAC,EAAD,CAAb;MAEL,CALD,MAMI;QACGiB,KAAK,CAAC,wBAAD,CAAL;MACN;IACJ,CAVC;EAYD,CAbH;;EAcE,MAAMC,IAAI,GAAC,CAACH,QAAD,EAAUrB,EAAV,KAAe;IACxBF,KAAK,CAACc,IAAN,CAAW,uCAAX,EAAmD;MAACS,QAAQ,EAACA,QAAV;MAAmBrB,EAAE,EAACA;IAAtB,CAAnD,EAA6E;MAACe,OAAO,EAAC;QAACC,WAAW,EAACC,cAAc,CAACC,OAAf,CAAuB,cAAvB;MAAb;IAAT,CAA7E,EAA6IV,IAA7I,CAAmJC,MAAD,IAAU;MAC1J,IAAGA,MAAM,CAACC,IAAP,CAAYS,KAAf,EAAqB;QACnBI,KAAK,CAACd,MAAM,CAACC,IAAP,CAAYS,KAAb,CAAL;MACD,CAFD,MAEK;QACHI,KAAK,CAACd,MAAM,CAACC,IAAR,CAAL;MACD;IACF,CAND;EAOD,CARD;;EAUE,oBACA;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAK,SAAS,EAAC,MAAf;MAAA,wBACI;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBT,KAAK,CAACwB;MAA9B;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAK,SAAS,EAAC,MAAf;QAAA,UAAuBxB,KAAK,CAACyB;MAA7B;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAK,SAAS,EAAC,UAAf;QAAA,UAA2BzB,KAAK,CAAC0B;MAAjC;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAME;MAAK,SAAS,EAAC,WAAf;MAAA,wBACI;QAAK,SAAS,EAAC,YAAf;QAAA,wBAA4B;UAAO,SAAS,EAAC,QAAjB;UAA0B,QAAQ,EAAGC,KAAD,IAAS;YAACtB,aAAa,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;UAAkC,CAAhF;UAAkF,YAAY,EAAC,KAA/F;UAAqG,IAAI,EAAC,MAA1G;UAAiH,WAAW,EAAE;QAA9H;UAAA;UAAA;UAAA;QAAA,QAA5B,eAC4B;UAAQ,SAAS,EAAC,SAAlB;UAA2B,OAAO,EAAEnB,UAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAD5B;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAMI;QAAK,SAAS,EAAC,UAAf;QAAA,UACWR,QAAQ,CAAC4B,GAAT,CAAa,CAACH,KAAD,EAAOI,GAAP,KAAa;UACnB,oBAAQ;YAAgB,SAAS,EAAC,UAA1B;YAAA,wBACI;cAAK,SAAS,EAAC,SAAf;cAAA,wBACD;gBAAK,SAAS,EAAC,UAAf;gBAAA,UAA2BJ,KAAK,CAACP;cAAjC;gBAAA;gBAAA;gBAAA;cAAA,QADC,eAGC;gBAAK,SAAS,EAAC,SAAf;gBAAA,gBAA4BO,KAAK,CAACf,OAAlC;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAHD;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAMK;cAAQ,SAAS,EAAC,SAAlB;cAA4B,OAAO,EAAE,MAAIW,IAAI,CAACI,KAAK,CAACP,QAAP,EAAgBO,KAAK,CAAC5B,EAAtB,CAA7C;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QANL;UAAA,GAAWgC,GAAX;YAAA;YAAA;YAAA;UAAA,QAAR;QASH,CAVJ;MADX;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADA;AAgCH;;GA/EQjC,I;UACIJ,S;;;KADJI,I;AAkFT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}